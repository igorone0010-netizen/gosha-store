<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoshaStore | PS Store</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <!-- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <div class="top-header">
        <div class="header-left">
            <div class="app-logo">
                <div class="logo-icon">GS</div>
                <div class="logo-text" id="header-title" style="display: none;">GoshaStore</div>
            </div>
        </div>
        <div class="header-right">
            <button class="secret-button-header" onclick="toggleAdminPanel()">‚öôÔ∏è</button>
            <div class="profile-button" onclick="showProfile()" id="profile-button">
                –ü—Ä–æ—Ñ–∏–ª—å
            </div>
        </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <div id="main-page" class="page active">
        <div class="main-content">
            <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
            <div id="admin-panel" class="admin-panel">
                <div class="admin-title">üöÄ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
                
                <div class="admin-tabs">
                    <div class="admin-tab active" onclick="switchAdminTab('files')">üìÅ –ò–∑ —Ñ–∞–π–ª–æ–≤</div>
                    <div class="admin-tab" onclick="switchAdminTab('urls')">üåê –ò–∑ URL</div>
                    <div class="admin-tab" onclick="switchAdminTab('manage')">‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ —Ñ–∞–π–ª–æ–≤ -->
                <div id="admin-files" class="admin-section active">
                    <div class="drag-drop-area" id="drop-area" onclick="document.getElementById('file-input').click()">
                        <div class="drag-drop-icon">üìÅ</div>
                        <div style="font-size: 18px; font-weight: bold; margin-bottom: 5px;">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–æ–≤ —Å—é–¥–∞</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 14px;">
                            –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤<br>
                            <small>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è JPG, PNG, WebP</small>
                        </div>
                    </div>
                    
                    <input type="file" id="file-input" multiple accept="image/*" style="display: none;" onchange="handleFileSelect(this.files)">
                    
                    <div class="file-list" id="file-list">
                        <div style="text-align: center; color: rgba(255,255,255,0.7); margin-bottom: 10px;">
                            –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: <span id="file-count">0</span>
                        </div>
                        <div id="files-container"></div>
                    </div>
                    
                    <div class="quick-template" id="quick-template">
                        <div class="admin-title">üìù –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ</div>
                        
                        <div class="template-header template-row">
                            <div>–ù–∞–∑–≤–∞–Ω–∏–µ</div>
                            <div>–¶–µ–Ω–∞</div>
                            <div>–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞</div>
                            <div>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
                            <div>–î–µ–π—Å—Ç–≤–∏—è</div>
                        </div>
                        
                        <div id="template-container"></div>
                        
                        <div class="batch-controls">
                            <button class="admin-button" onclick="applyTemplateToAll()">üìã –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ –≤—Å–µ–º</button>
                            <button class="admin-button save" onclick="addAllProducts()">
                                üöÄ –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
                            </button>
                        </div>
                    </div>
                    
                    <div class="batch-preview" id="batch-preview"></div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ URL -->
                <div id="admin-urls" class="admin-section">
                    <div class="url-input-section">
                        <div class="admin-title">üìù –í—Å—Ç–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ URL</div>
                        
                        <div class="url-example">
                            <strong>–§–æ—Ä–º–∞—Ç (–∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ - —Ç–æ–≤–∞—Ä):</strong><br>
                            –ù–∞–∑–≤–∞–Ω–∏–µ | –¶–µ–Ω–∞ | –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ | URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ | –ö–∞—Ç–µ–≥–æ—Ä–∏—è<br><br>
                            
                            <strong>–ü—Ä–∏–º–µ—Ä:</strong><br>
                            God of War Ragnarok | 3999 | 4999 | https://example.com/god.jpg | –≠–∫—à–Ω<br>
                            Spider-Man 2 | 4999 | 0 | https://example.com/spider.jpg | –≠–∫—à–Ω
                        </div>
                        
                        <textarea class="bulk-textarea" id="url-products" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∑–¥–µ—Å—å..." 
                                  oninput="previewUrlProducts()"></textarea>
                        
                        <div class="processing-status" id="url-status">–ì–æ—Ç–æ–≤ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ</div>
                        
                        <div class="batch-preview" id="url-preview"></div>
                        
                        <div class="url-list" id="url-list"></div>
                        
                        <button class="admin-button save" onclick="addUrlProducts()">
                            üöÄ –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ URL
                        </button>
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                <div id="admin-manage" class="admin-section">
                    <div class="products-count">
                        –í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤: <span id="total-products">0</span>
                    </div>
                    
                    <button class="admin-button save" onclick="saveProductsToServer()">
                        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                    </button>
                    
                    <button class="admin-button" onclick="loadProductsFromServer()">
                        üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞
                    </button>
                    
                    <div class="file-input-wrapper">
                        <input type="file" class="file-input" id="import-file" accept=".json" onchange="importProducts(this)">
                        <div class="file-input-label">üì• –ò–º–ø–æ—Ä—Ç –±–∞–∑—ã —Ç–æ–≤–∞—Ä–æ–≤</div>
                    </div>
                    
                    <button class="admin-button danger" onclick="clearAllProducts()">
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
                    </button>
                </div>
            </div>

            <div class="menu-grid">
                <div class="menu-button playstation" onclick="showProducts('playstation_personal')">
                    <div class="button-name">PlayStation –õ–∏—á–Ω—ã–π</div>
                    <div class="button-description">–ü–æ–∫—É–ø–∫–∞ –∏–≥—Ä –Ω–∞ –≤–∞—à –ª–∏—á–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç PS4/PS5</div>
                </div>
            </div>

            <div class="support-section" onclick="openSupport()">
                <div class="support-icon">üí¨</div>
                <div class="support-title">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
                <div class="support-description">
                    –ù–µ –Ω–∞—à–ª–∏ –Ω—É–∂–Ω—ã–π —Ç–æ–≤–∞—Ä? –û—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã? –ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–∫–∞–∑–æ–º?
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
    <div id="products-page" class="page products-page">
        <div class="hot-offers">
            <!-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—É—Å–µ–ª—å –∏–≥—Ä (–±–∞–Ω–Ω–µ—Ä) - —É–º–µ–Ω—å—à–µ–Ω–Ω–∞—è –≤ 4 —Ä–∞–∑–∞ -->
            <div class="games-carousel auto-carousel">
                <div class="carousel-container" id="carousel-container">
                    <!-- –ò–≥—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                <div class="carousel-dots" id="carousel-dots">
                    <!-- –¢–æ—á–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
                </div>
            </div>
            
            <!-- –†—É—á–Ω–∞—è –∫–∞—Ä—É—Å–µ–ª—å –∏–≥—Ä -->
            <div class="games-carousel manual-carousel">
                <div class="carousel-header">
                    <h3>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏–≥—Ä—ã</h3>
                    <div class="carousel-controls">
                        <button class="carousel-btn prev-btn" id="manual-prev">‚Äπ</button>
                        <button class="carousel-btn next-btn" id="manual-next">‚Ä∫</button>
                    </div>
                </div>
                <div class="manual-carousel-container" id="manual-carousel-container">
                    <!-- –ò–≥—Ä—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                </div>
            </div>
            
            <!-- –ö–∞—Ä—É—Å–µ–ª—å —Ç–æ–≤–∞—Ä–æ–≤ -->
            <div class="products-carousel-section">
                <div class="carousel-header">
                    <h3>–í—Å–µ –∏–≥—Ä—ã</h3>
                    <div class="carousel-controls">
                        <button class="carousel-btn" id="products-prev">‚Äπ</button>
                        <button class="carousel-btn" id="products-next">‚Ä∫</button>
                    </div>
                </div>
                <div class="products-carousel-container" id="products-carousel-container">
                    <!-- –¢–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–¥–µ—Å—å -->
                </div>
            </div>

            <!-- –°–∫—Ä—ã—Ç—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å–æ —Å—Ç–∞—Ä–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π displayProducts -->
            <div id="products-container" class="products-grid" style="display: none;">
                <!-- –¢–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–¥–µ—Å—å –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ -->
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div id="profile-page" class="page">
        <div class="profile-header">
            <div class="profile-welcome" id="profile-welcome">–ü—Ä–∏–≤–µ—Ç!</div>
            <div class="profile-subtitle">–†–∞–¥—ã —Ç–µ–±—è –≤–∏–¥–µ—Ç—å</div>
        </div>
        
        <div class="profile-section">
            <div class="input-card" onclick="activateInput('email')" id="email-card">
                <div class="input-label" id="email-label">–í–∞—à–∞ –ø–æ—á—Ç–∞</div>
                <input type="email" class="input-field" id="user-email" placeholder="example@gmail.com" oninput="handleInputChange('email')" onblur="deactivateInput('email')">
            </div>
            
            <div class="input-card" onclick="activateInput('password')" id="password-card">
                <div class="input-label" id="password-label">–ü–∞—Ä–æ–ª—å</div>
                <input type="password" class="input-field" id="user-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" oninput="handleInputChange('password')" onblur="deactivateInput('password')">
            </div>
            
            <div class="input-card" onclick="activateInput('2fa')" id="2fa-card">
                <div class="input-label" id="2fa-label">2FA –ö–æ–¥—ã</div>
                <input type="text" class="input-field" id="user-2fa" placeholder="–ö–æ–¥—ã –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏" oninput="handleInputChange('2fa')" onblur="deactivateInput('2fa')">
            </div>
        </div>

        <div class="center-blocks">
            <div class="center-block" onclick="showHistory()">
                <div class="block-icon">üìã</div>
                <div class="block-title">–ò—Å—Ç–æ—Ä–∏—è</div>
                <div class="block-description">–í–∞—à–∏ –∑–∞–∫–∞–∑—ã</div>
            </div>
            
            <div class="center-block" onclick="openNewsChannel()">
                <div class="block-icon">üì¢</div>
                <div class="block-title">–ù–æ–≤–æ—Å—Ç–∏</div>
                <div class="block-description">–ù–∞—à –∫–∞–Ω–∞–ª</div>
            </div>
        </div>

        <div class="support-section-profile" onclick="openSupport()">
            <div class="support-bot">@GoshaStoreBot</div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ -->
    <div id="history-page" class="page">
        <div class="empty-state">
            üìã<br><br>
            –í–∞—à–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫–∞–∑—ã –≤ —Å–µ—Ä–≤–∏—Å–µ<br>
            –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
    <div id="categories-page" class="page">
        <div class="categories-grid" id="categories-container">
            <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–¥–µ—Å—å -->
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div id="cart-page" class="page">
        <div id="cart-container">
            <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
        </div>
        
        <div class="cart-total" id="cart-total">
            –ò—Ç–æ–≥–æ: 0 —Ä—É–±.
        </div>
        
        <button class="checkout-button" onclick="checkout()">
            –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
        </button>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
    <div id="favorites-page" class="page">
        <div id="favorites-container" class="products-grid">
            <!-- –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã -->
        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <div id="nav-panel" class="nav-panel">
        <div class="nav-panel-inner">
            <div class="nav-top">
                <div class="menu-toggle" onclick="showMain()">‚ò∞</div>
                <div class="search-container">
                    <input type="text" class="search-input" id="search-input" placeholder="" oninput="searchProducts()">
                    <div class="search-icon">üîç</div>
                </div>
            </div>
            
            <div class="nav-tabs">
                <div class="nav-tab active" onclick="showSectionHome()">
                    <div class="tab-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor" style="width: 20px; height: 20px;">
                            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
                        </svg>
                    </div>
                    <div class="tab-text">–ì–ª–∞–≤–Ω–∞—è</div>
                </div>
                <div class="nav-tab" onclick="showCategories()">
                    <div class="tab-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor" style="width: 20px; height: 20px;">
                            <path d="M12 2l-5.5 9h11L12 2zm0 3.84L13.93 9h-3.87L12 5.84zM17.5 13c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 7c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM3 21.5h8v-8H3v8zm2-6h4v4H5v-4z"/>
                        </svg>
                    </div>
                    <div class="tab-text">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
                </div>
                <div class="nav-tab" onclick="showFavorites()">
                    <div class="tab-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor" style="width: 20px; height: 20px;">
                            <path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"/>
                        </svg>
                    </div>
                    <div class="tab-text">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
                </div>
                <div class="nav-tab" onclick="showCart()">
                    <div class="tab-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor" style="width: 20px; height: 20px;">
                            <path d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zM1 2v2h2l3.6 7.59-1.35 2.45c-.16.28-.25.61-.25.96 0 1.1.9 2 2 2h12v-2H7.42c-.14 0-.25-.11-.25-.25l.03-.12.9-1.63h7.45c.75 0 1.41-.41 1.75-1.03l3.58-6.49c.08-.14.12-.31.12-.48 0-.55-.45-1-1-1H5.21l-.94-2H1zm16 16c-1.1 0-1.99.9-1.99 2s.89 2 1.99 2 2-.9 2-2-.9-2-2-2z"/>
                        </svg>
                    </div>
                    <div class="tab-text">–ö–æ—Ä–∑–∏–Ω–∞</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JS —Ñ–∞–π–ª—ã -->
    <script src="/static/js/main.js"></script>
    <script src="/static/js/products.js"></script>
    <script src="/static/js/admin.js"></script>
</body>
</html>
