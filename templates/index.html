<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoshaStore | PS Store</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <!-- –°–µ–∫—Ä–µ—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ -->
    <button class="secret-button" onclick="toggleAdminPanel()">‚öôÔ∏è</button>

    <!-- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <div class="top-header">
        <div class="header-left">
            <div class="app-logo">
                <div class="logo-icon">GS</div>
                <div class="logo-text" id="header-title">GoshaStore</div>
            </div>
        </div>
        <div class="header-right">
            <!-- –°–µ–∫—Ä–µ—Ç–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –∞–¥–º–∏–Ω–∫–∏ —Ç–µ–ø–µ—Ä—å –∑–¥–µ—Å—å -->
            <button class="secret-button-header" onclick="toggleAdminPanel()">‚öôÔ∏è</button>
            <div class="profile-button" onclick="showProfile()" id="profile-button">
                –ü—Ä–æ—Ñ–∏–ª—å
            </div>
        </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ -->
    <div id="main-page" class="page active">
        <div class="main-content">
            <!-- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
            <div id="admin-panel" class="admin-panel">
                <div class="admin-title">üöÄ –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</div>
                
                <div class="admin-tabs">
                    <div class="admin-tab active" onclick="switchAdminTab('files')">üìÅ –ò–∑ —Ñ–∞–π–ª–æ–≤</div>
                    <div class="admin-tab" onclick="switchAdminTab('urls')">üåê –ò–∑ URL</div>
                    <div class="admin-tab" onclick="switchAdminTab('manage')">‚öôÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ —Ñ–∞–π–ª–æ–≤ -->
                <div id="admin-files" class="admin-section active">
                    <div class="drag-drop-area" id="drop-area" onclick="document.getElementById('file-input').click()">
                        <div class="drag-drop-icon">üìÅ</div>
                        <div style="font-size: 18px; font-weight: bold; margin-bottom: 5px;">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–æ—Ç–æ —Ç–æ–≤–∞—Ä–æ–≤ —Å—é–¥–∞</div>
                        <div style="color: rgba(255,255,255,0.7); font-size: 14px;">
                            –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤<br>
                            <small>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è JPG, PNG, WebP</small>
                        </div>
                    </div>
                    
                    <input type="file" id="file-input" multiple accept="image/*" style="display: none;" onchange="handleFileSelect(this.files)">
                    
                    <div class="file-list" id="file-list">
                        <div style="text-align: center; color: rgba(255,255,255,0.7); margin-bottom: 10px;">
                            –í—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: <span id="file-count">0</span>
                        </div>
                        <div id="files-container"></div>
                    </div>
                    
                    <div class="quick-template" id="quick-template">
                        <div class="admin-title">üìù –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ</div>
                        
                        <div class="template-header template-row">
                            <div>–ù–∞–∑–≤–∞–Ω–∏–µ</div>
                            <div>–¶–µ–Ω–∞</div>
                            <div>–°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞</div>
                            <div>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
                            <div>–î–µ–π—Å—Ç–≤–∏—è</div>
                        </div>
                        
                        <div id="template-container"></div>
                        
                        <div class="batch-controls">
                            <button class="admin-button" onclick="applyTemplateToAll()">üìã –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ –≤—Å–µ–º</button>
                            <button class="admin-button save" onclick="addAllProducts()">
                                üöÄ –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
                            </button>
                        </div>
                    </div>
                    
                    <div class="batch-preview" id="batch-preview"></div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ URL -->
                <div id="admin-urls" class="admin-section">
                    <div class="url-input-section">
                        <div class="admin-title">üìù –í—Å—Ç–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ URL</div>
                        
                        <div class="url-example">
                            <strong>–§–æ—Ä–º–∞—Ç (–∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ - —Ç–æ–≤–∞—Ä):</strong><br>
                            –ù–∞–∑–≤–∞–Ω–∏–µ | –¶–µ–Ω–∞ | –°—Ç–∞—Ä–∞—è —Ü–µ–Ω–∞ | URL –∫–∞—Ä—Ç–∏–Ω–∫–∏ | –ö–∞—Ç–µ–≥–æ—Ä–∏—è<br><br>
                            
                            <strong>–ü—Ä–∏–º–µ—Ä:</strong><br>
                            God of War Ragnarok | 3999 | 4999 | https://example.com/god.jpg | –≠–∫—à–Ω<br>
                            Spider-Man 2 | 4999 | 0 | https://example.com/spider.jpg | –≠–∫—à–Ω
                        </div>
                        
                        <textarea class="bulk-textarea" id="url-products" placeholder="–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à —Å–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ –∑–¥–µ—Å—å..." 
                                  oninput="previewUrlProducts()"></textarea>
                        
                        <div class="processing-status" id="url-status">–ì–æ—Ç–æ–≤ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ</div>
                        
                        <div class="batch-preview" id="url-preview"></div>
                        
                        <div class="url-list" id="url-list"></div>
                        
                        <button class="admin-button save" onclick="addUrlProducts()">
                            üöÄ –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã –∏–∑ URL
                        </button>
                    </div>
                </div>
                
                <!-- –í–∫–ª–∞–¥–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                <div id="admin-manage" class="admin-section">
                    <div class="products-count">
                        –í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤: <span id="total-products">0</span>
                    </div>
                    
                    <button class="admin-button save" onclick="saveProductsToServer()">
                        üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä
                    </button>
                    
                    <button class="admin-button" onclick="loadProductsFromServer()">
                        üîÑ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞
                    </button>
                    
                    <div class="file-input-wrapper">
                        <input type="file" class="file-input" id="import-file" accept=".json" onchange="importProducts(this)">
                        <div class="file-input-label">üì• –ò–º–ø–æ—Ä—Ç –±–∞–∑—ã —Ç–æ–≤–∞—Ä–æ–≤</div>
                    </div>
                    
                    <button class="admin-button danger" onclick="clearAllProducts()">
                        üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
                    </button>
                </div>
            </div>

            <div class="menu-grid">
                <div class="menu-button playstation" onclick="showProducts('playstation_personal')">
                    <div class="button-name">PlayStation –õ–∏—á–Ω—ã–π</div>
                    <div class="button-description">–ü–æ–∫—É–ø–∫–∞ –∏–≥—Ä –Ω–∞ –≤–∞—à –ª–∏—á–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç PS4/PS5</div>
                </div>
            </div>

            <div class="support-section" onclick="openSupport()">
                <div class="support-icon">üí¨</div>
                <div class="support-title">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
                <div class="support-description">
                    –ù–µ –Ω–∞—à–ª–∏ –Ω—É–∂–Ω—ã–π —Ç–æ–≤–∞—Ä? –û—Å—Ç–∞–ª–∏—Å—å –≤–æ–ø—Ä–æ—Å—ã? –ü—Ä–æ–±–ª–µ–º–∞ —Å –∑–∞–∫–∞–∑–æ–º?
                </div>
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–æ–≤ -->
    <div id="products-page" class="page products-page">
        <div class="hot-offers">
            <div class="section-title">–ì–æ—Ä—è—á–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</div>
            <div id="products-container" class="products-grid">
                <!-- –¢–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Ñ–∏–ª—è -->
    <div id="profile-page" class="page">
        <div class="profile-header">
            <div class="profile-welcome" id="profile-welcome">–ü—Ä–∏–≤–µ—Ç!</div>
            <div class="profile-subtitle">–†–∞–¥—ã —Ç–µ–±—è –≤–∏–¥–µ—Ç—å</div>
        </div>
        
        <div class="profile-section">
            <div class="input-card" onclick="activateInput('email')" id="email-card">
                <div class="input-label" id="email-label">–í–∞—à–∞ –ø–æ—á—Ç–∞</div>
                <input type="email" class="input-field" id="user-email" placeholder="example@gmail.com" oninput="handleInputChange('email')" onblur="deactivateInput('email')">
            </div>
            
            <div class="input-card" onclick="activateInput('password')" id="password-card">
                <div class="input-label" id="password-label">–ü–∞—Ä–æ–ª—å</div>
                <input type="password" class="input-field" id="user-password" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" oninput="handleInputChange('password')" onblur="deactivateInput('password')">
            </div>
            
            <div class="input-card" onclick="activateInput('2fa')" id="2fa-card">
                <div class="input-label" id="2fa-label">2FA –ö–æ–¥—ã</div>
                <input type="text" class="input-field" id="user-2fa" placeholder="–ö–æ–¥—ã –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏" oninput="handleInputChange('2fa')" onblur="deactivateInput('2fa')">
            </div>
        </div>

        <div class="center-blocks">
            <div class="center-block" onclick="showHistory()">
                <div class="block-icon">üìã</div>
                <div class="block-title">–ò—Å—Ç–æ—Ä–∏—è</div>
                <div class="block-description">–í–∞—à–∏ –∑–∞–∫–∞–∑—ã</div>
            </div>
            
            <div class="center-block" onclick="openNewsChannel()">
                <div class="block-icon">üì¢</div>
                <div class="block-title">–ù–æ–≤–æ—Å—Ç–∏</div>
                <div class="block-description">–ù–∞—à –∫–∞–Ω–∞–ª</div>
            </div>
        </div>

        <div class="support-section-profile" onclick="openSupport()">
            <div class="support-bot">@GoshaStoreBot</div>
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏ -->
    <div id="history-page" class="page">
        <div class="empty-state">
            üìã<br><br>
            –í–∞—à–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–∫–∞–∑—ã –≤ —Å–µ—Ä–≤–∏—Å–µ<br>
            –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∏—Å—Ç–æ—Ä–∏—è –ø–æ–∫—É–ø–æ–∫
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–π -->
    <div id="categories-page" class="page">
        <div class="categories-grid" id="categories-container">
            <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∑–¥–µ—Å—å -->
        </div>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–æ—Ä–∑–∏–Ω—ã -->
    <div id="cart-page" class="page">
        <div id="cart-container">
            <!-- –¢–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω–µ -->
        </div>
        
        <div class="cart-total" id="cart-total">
            –ò—Ç–æ–≥–æ: 0 —Ä—É–±.
        </div>
        
        <button class="checkout-button" onclick="checkout()">
            –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
        </button>
    </div>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ -->
    <div id="favorites-page" class="page">
        <div id="favorites-container" class="products-grid">
            <!-- –ò–∑–±—Ä–∞–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã -->
        </div>
    </div>

    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
    <div id="nav-panel" class="nav-panel">
        <div class="nav-top">
            <div class="menu-toggle" onclick="showMain()">‚ò∞</div>
            <div class="search-container">
                <input type="text" class="search-input" id="search-input" placeholder="–ü–æ–∏—Å–∫ –∏–≥—Ä..." oninput="searchProducts()">
                <div class="search-icon">üîç</div>
            </div>
        </div>
        
        <div class="nav-tabs">
            <div class="nav-tab active" onclick="showSectionHome()">
                <div class="tab-icon">üè†</div>
                <div class="tab-text">–ì–ª–∞–≤–Ω–∞—è</div>
            </div>
            <div class="nav-tab" onclick="showCategories()">
                <div class="tab-icon">üçÄ</div>
                <div class="tab-text">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</div>
            </div>
            <div class="nav-tab" onclick="showCart()">
                <div class="tab-icon">üõí</div>
                <div class="tab-text">–ö–æ—Ä–∑–∏–Ω–∞</div>
            </div>
            <div class="nav-tab" onclick="showFavorites()">
                <div class="tab-icon">‚≠ê</div>
                <div class="tab-text">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</div>
            </div>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º JS —Ñ–∞–π–ª—ã -->
    <script src="/static/js/main.js"></script>
    <script src="/static/js/products.js"></script>
    <script src="/static/js/admin.js"></script>
</body>
</html>
